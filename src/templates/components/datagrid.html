<div class="formio-data-grid" ng-controller="formioDataGrid" ng-if="show[component.key || '']">
  <table ng-class="{'table-striped': component.striped, 'table-bordered': component.bordered, 'table-hover': component.hover, 'table-condensed': component.condensed}" class="table datagrid-table">
    <tr>
      <th ng-repeat="col in cols track by $index" ng-if="show[col.key || ''] || localKeys.indexOf(col.conditional.when) !== -1" ng-class="{'field-required': col.validate.required}">{{ col.label | formioTranslate }}</th>
    </tr>
    <tr ng-repeat="row in rows track by $index" ng-init="rowIndex = $index">
      <td ng-repeat="col in cols track by $index" ng-init="col.hideLabel = true; colIndex = $index" class="formio-data-grid-row">
        <formio-component
          ng-if="(localKeys.indexOf(col.conditional.when) === -1 && show[col.key || '']) || checkConditional(col.key, row)"
          component="col"
          data="rows[rowIndex]"
          formio-form="formioForm"
          formio="formio"
          read-only="readOnly || col.disabled"
          grid-row="rowIndex"
          grid-col="colIndex"
          show="show"
        ></formio-component>
      </td>
      <td>
        <a ng-click="removeRow(rowIndex)" class="btn btn-default">
          <span class="glyphicon glyphicon-remove-circle"></span>
        </a>
      </td>
    </tr>
  </table>
  <div class="datagrid-add">
    <a ng-click="addRow()" class="btn btn-primary">
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ component.addAnother || "Add Another" | formioTranslate}}
    </a>
  </div>
</div>
